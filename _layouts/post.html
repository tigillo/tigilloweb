---
layout: intro
---

  <section id="post" class="section">
    <div class="container">
      <div class="row justify-content-around">
        <div class="col-lg-12 col-md-12 col-xs-12">
          <h3>{{ page.title }}</h3>
          {{ content }}
          {% for category in page.categories %}
            <a class="btn btn-sm btn-primary mt-2" href="{{site.baseurl}}/insights.html#{{ category | downcase }}">
              # {{ category | downcase }}
            </a>
          {% endfor %}
                  
          {% include comments.html %}
        </div>
      </div>
    </div>
    <div class="page-navigation">
      {% if page.next.url %}
        <a class="prev" href="{{site.baseurl}}{{page.next.url}}" title="{{page.next.title}}"><i class="icon ion-md-arrow-dropleft-circle"></i> </a>
      {% endif %}
      {% if page.previous.url %}
        <a class="next" href="{{site.baseurl}}{{page.previous.url}}" title="{{page.previous.title}}"><i class="icon ion-md-arrow-dropright-circle"></i></a>
      {% endif %}
    </div>
  </section> 
  <section id="insights">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">You May Also Enjoy</h2>
      </div>
      <div class="row justify-content-around">
        {% assign maxRelated = 3 %}
        {% assign minCommonTags =  2 %}
        {% assign maxRelatedCounter = 0 %}

        {% for post in site.posts %}

            {% assign sameTagCount = 0 %}
            {% assign commonTags = '' %}

            {% for category in post.categories %}
              {% if post.url != page.url %}
                {% if page.categories contains category %}
                  {% assign sameTagCount = sameTagCount | plus: 1 %}
                  {% capture tagmarkup %} <span class="label label-default">{{ category }}</span> {% endcapture %}
                  {% assign commonTags = commonTags | append: tagmarkup %}
                {% endif %}
              {% endif %}
            {% endfor %}

            {% if sameTagCount >= minCommonTags %}
              {% include card-post.html %}
              {% assign maxRelatedCounter = maxRelatedCounter | plus: 1 %}
              {% if maxRelatedCounter >= maxRelated %}
                {% break %}
              {% endif %}
            {% endif %}

        {% endfor %}
      </div>
    </div>
  </section> 
